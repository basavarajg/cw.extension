<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="img/favicon.ico">
    <link rel="stylesheet" href="css/aui.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/main2.css">
    <link rel="stylesheet" href="css/main3.css">
    <link rel="stylesheet" href="css/searchnow.css">
    <link rel="stylesheet" href="css/yui3.css">
    <link rel="stylesheet" href="css/yui3-1.css">
    <link rel="stylesheet" href="css/yui3-2.css">
    <link rel="stylesheet" href="css/content.css">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.css">
  	<link rel="stylesheet" type="text/css" href="css/dataTables.bootstrap4.css">
    <link rel="stylesheet" type="text/css" href="css/jquery-ui.css">

    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" language="javascript" src="js/jquery.dataTables.js"></script>
  	<script type="text/javascript" language="javascript" src="js/dataTables.bootstrap4.js"></script>
    <script type="text/javascript" language="javascript" src="https://code.responsivevoice.org/responsivevoice.js"></script>
    <script type="text/javascript" src="js/content.js"></script>

  </head>
  <body>
    <header class="top-header" id="header">
      <a href="http://localhost:3000/">
        <img src="img/ic_home_black.png" height="30" width="30" hspace="20" vspace="15"></img>
      </a>
      <a href="javscript:;" onclick="openMailBox()">
        <img src="img/ic_email_black.png" height="30" width="30" hspace="21" vspace="15"></img>
      </a>
      <div class="search">
        <input id="wildSearch" type="search"></input>
      </div>
    </header>
    <main>
        <div id="content">
          <table id="dataTable" class="table table-striped table-bordered">
            <thead>
              <tr>
                <th width="6%">Add</th>
                <th width="12%">ID</th>
                <th width="40%">Content</th>
                <th width="12%">Created By</th>
                <th width="12%">Created Time</th>
                <th width="6%">Delete</th>
                <th width="6%">Voice</th>
              </tr>
            </thead>
          </table>
        </div>
        <div id="mailbox" style="display:none">
          <input type="text" id="emailTo" placeholder="To" />
          <input type="text" id="emailSub" placeholder="Subject">
          <textarea id="emailBody" rows="25" cols="80"></textarea>
        </div>
        <div id="dialogDiv" style="display:none"></div>
    </main>
  </body>
  <script>
  // AJAX call for autocomplete
    $(document).ready(function(){
      $("#wildSearch").autocomplete({
        source: function( request, response ) {
          $.post("/search",
          {
            keyword: $("#wildSearch").val()
          },
          function(data, status) {
            response($.parseJSON(data));
          });
        },
        select: function(event, ui) {
          event.preventDefault();
          $(this).val('');
          var div = $('#dialogDiv');
          div.html(ui.item.label);
          div.dialog({
            title: "Content Details - ID#" + ui.item.value,
            show: { effect: "blind", duration: 800 },
            modal: true,
            width: 800,
            height: 400,
            dialogClass: 'dialogHeader'
          });
        }
      });
    });
</script>
</html>
